# strike_lines_spx_ndx
# Add this w/unusual options spx ndx indicator
# This only adds the strike lines.
# Mar 6, 2025

input strikeSpacing = 5.0;
input strikes = 10;
input color_choice = {default magenta, cyan, pink, light_gray, yellow, orange, green, gray, beige, white };

def agg = AggregationPeriod.DAY;
def openlevel = open(period = agg);
def rounding_factor = if strikeSpacing > 1 and strikeSpacing < 25 then -1 else if strikeSpacing > 24 then -2 else 0;
def base_strike =  Round(openlevel, rounding_factor);

plot strike_base = base_strike;
plot strike_plus1 = base_strike + strikeSpacing;
plot strike_plus2 = base_strike + strikeSpacing * 2;
plot strike_plus3 = base_strike + strikeSpacing * 3;
plot strike_plus4 = base_strike + strikeSpacing * 4;
plot strike_plus5 = base_strike + strikeSpacing * 5;
plot strike_plus6 = base_strike + strikeSpacing * 6;
plot strike_plus7 = base_strike + strikeSpacing * 7;
plot strike_plus8 = base_strike + strikeSpacing * 8;
plot strike_plus9 = base_strike + strikeSpacing * 9;
plot strike_plus10 = base_strike + strikeSpacing * 10;
plot strike_plus11 = base_strike + strikeSpacing * 11;
plot strike_plus12 = base_strike + strikeSpacing * 12;
plot strike_plus13 = base_strike + strikeSpacing * 13;
plot strike_plus14 = base_strike + strikeSpacing * 14;
plot strike_plus15 = base_strike + strikeSpacing * 15;
plot strike_plus16 = base_strike + strikeSpacing * 16;
plot strike_plus17 = base_strike + strikeSpacing * 17;
plot strike_plus18 = base_strike + strikeSpacing * 18;
plot strike_plus19 = base_strike + strikeSpacing * 19;
plot strike_plus20 = base_strike + strikeSpacing * 20;
plot strike_plus21 = base_strike + strikeSpacing * 21;

plot strike_minus1 = base_strike - strikeSpacing;
plot strike_minus2 = base_strike - strikeSpacing * 2;
plot strike_minus3 = base_strike - strikeSpacing * 3;
plot strike_minus4 = base_strike - strikeSpacing * 4;
plot strike_minus5 = base_strike - strikeSpacing * 5;
plot strike_minus6 = base_strike - strikeSpacing * 6;
plot strike_minus7 = base_strike - strikeSpacing * 7;
plot strike_minus8 = base_strike - strikeSpacing * 8;
plot strike_minus9 = base_strike - strikeSpacing * 9;
plot strike_minus10 = base_strike - strikeSpacing * 10;
plot strike_minus11 = base_strike - strikeSpacing * 11;
plot strike_minus12 = base_strike - strikeSpacing * 12;
plot strike_minus13 = base_strike - strikeSpacing * 13;
plot strike_minus14 = base_strike - strikeSpacing * 14;
plot strike_minus15 = base_strike - strikeSpacing * 15;
plot strike_minus16 = base_strike - strikeSpacing * 16;
plot strike_minus17 = base_strike - strikeSpacing * 17;
plot strike_minus18 = base_strike - strikeSpacing * 18;
plot strike_minus19 = base_strike - strikeSpacing * 19;
plot strike_minus20 = base_strike - strikeSpacing * 20;
plot strike_minus21 = base_strike - strikeSpacing * 21;

strike_base.setDefaultColor(getColor(color_choice));
strike_plus1.SetDefaultColor(getColor(color_choice));
strike_plus2.SetDefaultColor(getColor(color_choice));
strike_plus3.SetDefaultColor(getColor(color_choice));
strike_plus4.SetDefaultColor(getColor(color_choice));
strike_plus5.SetDefaultColor(getColor(color_choice));
strike_plus6.SetDefaultColor(getColor(color_choice));
strike_plus7.SetDefaultColor(getColor(color_choice));
strike_plus8.SetDefaultColor(getColor(color_choice));
strike_plus9.SetDefaultColor(getColor(color_choice));
strike_plus10.SetDefaultColor(getColor(color_choice));
strike_plus11.SetDefaultColor(getColor(color_choice));
strike_plus12.SetDefaultColor(getColor(color_choice));
strike_plus13.SetDefaultColor(getColor(color_choice));
strike_plus14.SetDefaultColor(getColor(color_choice));
strike_plus15.SetDefaultColor(getColor(color_choice));
strike_plus16.SetDefaultColor(getColor(color_choice));
strike_plus17.SetDefaultColor(getColor(color_choice));
strike_plus18.SetDefaultColor(getColor(color_choice));
strike_plus19.SetDefaultColor(getColor(color_choice));
strike_plus20.SetDefaultColor(getColor(color_choice));
strike_plus21.SetDefaultColor(getColor(color_choice));

strike_minus1.SetDefaultColor(getColor(color_choice));
strike_minus2.SetDefaultColor(getColor(color_choice));
strike_minus3.SetDefaultColor(getColor(color_choice));
strike_minus4.SetDefaultColor(getColor(color_choice));
strike_minus5.SetDefaultColor(getColor(color_choice));
strike_minus6.SetDefaultColor(getColor(color_choice));
strike_minus7.SetDefaultColor(getColor(color_choice));
strike_minus8.SetDefaultColor(getColor(color_choice));
strike_minus9.SetDefaultColor(getColor(color_choice));
strike_minus10.SetDefaultColor(getColor(color_choice));
strike_minus11.SetDefaultColor(getColor(color_choice));
strike_minus12.SetDefaultColor(getColor(color_choice));
strike_minus13.SetDefaultColor(getColor(color_choice));
strike_minus14.SetDefaultColor(getColor(color_choice));
strike_minus15.SetDefaultColor(getColor(color_choice));
strike_minus16.SetDefaultColor(getColor(color_choice));
strike_minus17.SetDefaultColor(getColor(color_choice));
strike_minus18.SetDefaultColor(getColor(color_choice));
strike_minus19.SetDefaultColor(getColor(color_choice));
strike_minus20.SetDefaultColor(getColor(color_choice));
strike_minus21.SetDefaultColor(getColor(color_choice));

strike_minus1.SetHiding(strikes <= 0);
strike_plus1.SetHiding(strikes <= 0);
strike_minus2.SetHiding(strikes <= 1);
strike_plus2.SetHiding(strikes <= 1);
strike_minus3.SetHiding(strikes <= 2);
strike_plus3.SetHiding(strikes <= 2);
strike_minus4.SetHiding(strikes <= 3);
strike_plus4.SetHiding(strikes <= 3);
strike_minus5.SetHiding(strikes <= 4);
strike_plus5.SetHiding(strikes <= 4);
strike_minus6.SetHiding(strikes <= 5);
strike_plus6.SetHiding(strikes <= 5);
strike_minus7.SetHiding(strikes <= 6);
strike_plus7.SetHiding(strikes <= 6);
strike_minus8.SetHiding(strikes <= 7);
strike_plus8.SetHiding(strikes <= 7);
strike_minus9.SetHiding(strikes <= 8);
strike_plus9.SetHiding(strikes <= 8);
strike_minus10.SetHiding(strikes <= 9);
strike_plus10.SetHiding(strikes <= 9);
strike_minus11.SetHiding(strikes <= 10);
strike_plus11.SetHiding(strikes <= 10);
strike_minus12.SetHiding(strikes <= 11);
strike_plus12.SetHiding(strikes <= 11);
strike_minus13.SetHiding(strikes <= 12);
strike_plus13.SetHiding(strikes <= 12);
strike_minus14.SetHiding(strikes <= 13);
strike_plus14.SetHiding(strikes <= 13);
strike_minus15.SetHiding(strikes <= 14);
strike_plus15.SetHiding(strikes <= 14);
strike_minus16.SetHiding(strikes <= 15);
strike_plus16.SetHiding(strikes <= 15);
strike_minus17.SetHiding(strikes <= 16);
strike_plus17.SetHiding(strikes <= 16);
strike_minus18.SetHiding(strikes <= 17);
strike_plus18.SetHiding(strikes <= 17);
strike_minus19.SetHiding(strikes <= 18);
strike_plus19.SetHiding(strikes <= 18);
strike_minus20.SetHiding(strikes <= 19);
strike_plus20.SetHiding(strikes <= 19);
strike_minus21.SetHiding(strikes <= 20);
strike_plus21.SetHiding(strikes <= 20);
